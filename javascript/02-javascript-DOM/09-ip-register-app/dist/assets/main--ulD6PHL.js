import"./style-0MLRzMiK.js";import{J as L}from"./just-validate.es-oWIsisIf.js";let n;const v=new Uint8Array(16);function P(){if(!n&&(n=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(v)}const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function q(e,r=0){return s[e[r+0]]+s[e[r+1]]+s[e[r+2]]+s[e[r+3]]+"-"+s[e[r+4]]+s[e[r+5]]+"-"+s[e[r+6]]+s[e[r+7]]+"-"+s[e[r+8]]+s[e[r+9]]+"-"+s[e[r+10]]+s[e[r+11]]+s[e[r+12]]+s[e[r+13]]+s[e[r+14]]+s[e[r+15]]}const S=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),w={randomUUID:S};function C(e,r,d){if(w.randomUUID&&!r&&!e)return w.randomUUID();e=e||{};const o=e.random||(e.rng||P)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,r){d=d||0;for(let t=0;t<16;++t)r[d+t]=o[t];return r}return q(o)}const l=document.getElementById("registrationForm"),i="userId",a=new L(l,{validateBeforeSubmitting:!0});a.addField("#firstname",[{rule:"required",errorMessage:"FirstName is required"},{rule:"minLength",value:3},{rule:"maxLength",value:15}],{errorLabelCssClass:["form-error"]});a.addField("#lastname",[{rule:"required",errorMessage:"LastName is required"},{rule:"minLength",value:3},{rule:"maxLength",value:15}],{errorLabelCssClass:["form-error"]});a.addRequiredGroup("#gender","Please select a gender",{errorLabelCssClass:["form-error"]});a.addField("#username",[{rule:"required",errorMessage:"UserName is required"},{rule:"minLength",value:3},{rule:"maxLength",value:15}],{errorLabelCssClass:["form-error"]});a.addField("#email",[{rule:"required",errorMessage:"Email is required"},{rule:"customRegexp",value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,errorMessage:"Enter a valid email address"}],{errorLabelCssClass:["form-error"]});a.addField("#newPassword",[{rule:"required",errorMessage:"Password is required"},{rule:"customRegexp",value:/[!@#$%^&*(),.?":{}|<>]/,errorMessage:"Password must contain at least one special character"},{rule:"minLength",value:8,errorMessage:"Password must be at least 8 characters long"}],{errorLabelCssClass:["form-error"]});a.addField("#confirmPassword",[{rule:"required",errorMessage:"Confirm Password is required"},{validator:e=>{const r=document.querySelector("#newPassword").value;return e===r},errorMessage:"Passwords should be the same"}],{errorLabelCssClass:["form-error"]});const h=document.querySelector("#newPassword"),u=document.querySelector("#newshowPassword"),c=document.querySelector("#newhidePassword");u.addEventListener("click",()=>{c.classList.remove("hidden"),h.type="text",u.classList.add("hidden")});c.addEventListener("click",()=>{u.classList.remove("hidden"),h.type="password",c.classList.add("hidden")});const y=document.querySelector("#confirmPassword"),m=document.querySelector("#confirmshowPassword"),g=document.querySelector("#confirmhidePassword");m.addEventListener("click",()=>{g.classList.remove("hidden"),y.type="text",m.classList.add("hidden")});g.addEventListener("click",()=>{m.classList.remove("hidden"),y.type="password",g.classList.add("hidden")});a.addField("#terms",[{rule:"required",errorMessage:"Please accept the Terms and Conditions."}],{errorLabelCssClass:["form-error"]});a.onSuccess(()=>{const e=new FormData(l);e.append("id",C());const r=Object.fromEntries(e.entries()),d=localStorage.getItem(i),o=JSON.parse(d),t=[];o?(o.push(r),localStorage.setItem(i,JSON.stringify(o))):(t.push(r),localStorage.setItem(i,JSON.stringify(t)));const p=document.querySelector("#firstname");alert(`Hey ${p.value}, You have Registered successfully!`),window.location.href="./login.html",l.reset()});
